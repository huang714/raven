\subsection{PostProcessor}
\label{sec:models_postProcessor}
A Post-Processor (PP) can be considered as an action performed on a set of data
or other type of objects.
%
Most of the post-processors contained in RAVEN, employ a mathematical operation
on the data given as ``input''.
%
RAVEN supports several different types of PPs.

Currently, the following types are available in RAVEN:
\begin{itemize}
  \itemsep0em
  \item \textbf{BasicStatistics}
  \item \textbf{ComparisonStatistics}
  \item \textbf{ImportanceRank}
  \item \textbf{SafestPoint}
  \item \textbf{LimitSurface}
  \item \textbf{LimitSurfaceIntegral}
  \item \textbf{External}
  \item \textbf{TopologicalDecomposition}
  \item \textbf{DataMining}
  \item \textbf{ParetoFrontier}
  \item \textbf{Metric}
  \item \textbf{CrossValidation}
  \item \textbf{ValueDuration}
  \item \textbf{FastFourierTransform}
  \item \textbf{SampleSelector}
  \item \textbf{Validation}
  \item \textbf{EconomicRatio}
  \item \textbf{HistorySetDelay}
  \item \textbf{HStoPSOperator}
  \item \textbf{HistorySetSampling}
  \item \textbf{HistorySetSync}
  \item \textbf{HistorySetSnapShot}
  \item \textbf{HS2PS}
  \item \textbf{TypicalHistoryFromHistorySet}
  \item \textbf{dataObjectLabelFilter}
  \item \textbf{TSACharacterizer}
\end{itemize}

The specifications of these types must be defined within the XML block
\xmlNode{PostProcessor}.
%
This XML node needs to contain the attributes:
\vspace{-5mm}
\begin{itemize}
  \itemsep0em
  \item \xmlAttr{name}, \xmlDesc{required string attribute}, user-defined
  identifier of this post-processor.
  %
  \nb As with other objects, this is the name that can be used to refer to this
  specific entity from other input XML blocks.
  \item \xmlAttr{subType}, \xmlDesc{required string attribute}, defines which of
  the post-processors needs to be used, choosing among the previously reported
  types.
  %
  This choice conditions the subsequent required and/or optional
  \xmlNode{PostProcessor} sub nodes.
  %
\end{itemize}
\vspace{-5mm}

As already mentioned, all the types and meaning of the remaining sub-nodes
depend on the post-processor type specified in the attribute \xmlAttr{subType}.
%
In the following sections the specifications of each type are reported.

%%%%% PP BasicStatistics %%%%%%%
\input{PostProcessors/BasicStatistics.tex}

%%%%% PP ComparisonStatistics %%%%%%%
\input{PostProcessors/ComparisonStatistics.tex}

%%%%% PP ImportanceRank %%%%%%%
\input{PostProcessors/ImportanceRank.tex}

%%%%% PP SafestPoint %%%%%%%
\input{PostProcessors/SafestPoint.tex}

%%%%% PP LimitSurface %%%%%%%
\input{PostProcessors/LimitSurface.tex}

%%%%% PP LimitSurfaceIntegral %%%%%%%
\input{PostProcessors/LimitSurfaceIntegral.tex}

%%%%% PP External %%%%%%%
\input{PostProcessors/External.tex}

%%%%% PP TopologicalDecomposition %%%%%%%
\input{PostProcessors/TopologicalDecomposition.tex}

%%%%% PP DataMining %%%%%%%
\input{PostProcessors/DataMining.tex}

%%%%%%%%%%%%%% ParetoFrontier PP %%%%%%%%%%%%%%%%%%%
\input{PostProcessors/ParetoFrontier.tex}


%%%%%%%%%%%%%% Metric PP %%%%%%%%%%%%%%%%%%%
\input{PostProcessors/Metric.tex}

%%%%%%%%%%%%%% Cross Validation PP %%%%%%%%%%%%%%%%%%%
\input{PostProcessors/CrossValidation.tex}

%%%%%%%%%%%%%% ValueDuration %%%%%%%%%%%%%%%%%%%
\input{PostProcessors/ValueDuration.tex}

%%%%%%%%%%%%%% FastFourierTransform %%%%%%%%%%%%%%%%%%%
\input{PostProcessors/FastFourierTransform.tex}

%%%%%%%%%%%%%% SampleSelector %%%%%%%%%%%%%%%%%%%
\input{PostProcessors/SampleSelector.tex}

%%%%% PP Validation %%%%%%%
<<<<<<< HEAD
\subsubsection{Validation}
\label{subsubsec:Validation}

The \xmlNode{Validation} PostProcessor represents a gate
for applying a different range of algorithms to validate (e.g. compare)
dataset and/or models (e.g. Distributions).
The post-processor is in charge of deploying a common infrastructure
for the user of  \textbf{Validation} problems.
Several algorithms are available within this post-processor:
\begin{itemize}
  \item  \textbf{Probabilistic}, for Static and Time-dependent data
  \item  \textbf{PPDSS}, for Time-dependent data
  % \item  \textbf{Representativity}
  \item  \textbf{PCM}, for Static data
\end{itemize}
%

The \textbf{Validation} post-processor makes use of the \textbf{Metric} system (See Chapter \ref{sec:Metrics}) to, in conjunction with the specific algorithm chosen from the list above,
to report validation scores for both static and time-dependent data.
Indeed, Both \textbf{PointSet} and \textbf{HistorySet} can be accepted by this post-processor (depending on which algorithm is chosen).
If the name of given variable to be compared is unique, it can be used directly, otherwise the variable can be specified
with $DataObjectName|InputOrOutput|VariableName$ nomenclature.

%
\ppType{Validation}{Validation}
%
\begin{itemize}
  \item \xmlNode{Features}, \xmlDesc{comma separated string, required field}, specifies the names of the features.
  \item \xmlNode{Targets}, \xmlDesc{comma separated string, required field}, contains a comma separated list of
     targets. \nb Each target is paired with a feature listed in xml node \xmlNode{Features}. In this case, the
    number of targets should be equal to the number of features.
    \item \xmlNode{Metric}, \xmlDesc{string, required field}, specifies the \textbf{Metric} name that is defined via
    \textbf{Metrics} entity. In this xml-node, the following xml attributes need to be specified:
    \begin{itemize}
      \item \xmlAttr{class}, \xmlDesc{required string attribute}, the class of this metric (e.g., Metrics)
      \item \xmlAttr{type}, \xmlDesc{required string attribute}, the sub-type of this Metric (e.g., SKL, Minkowski)
    \end{itemize}
    The choice of the available metrics depends on the specific validation algorithm that is chosen (see table \ref{tab:ValidationAlgorithms})
\end{itemize}

In addition to the nodes above, the user must use the sub-nodes specific to the chosen validation algorithm:
\begin{itemize}
  \item Probabilistic: specify that the validation needs to be performed
  using the Probabilistic metrics: \textbf{CDFAreaDifference} (see \ref{subsubsec:metric_CDFAreaDifference})  or \textbf{PDFCommonArea} (see \ref{subsubsec:metric_PDFCommonArea})
  This validation algorithm must have the following sub-nodes for HistorySet:
    \begin{itemize}
      \item \xmlNode{pivotParameter}, \xmlDesc{string, required field}, specifies the pivotParameter for a <HistorySet>. The pivot parameter is the shared index of the output variables in the data object.
    \end{itemize}
  \item PPDSS: specify that the validation needs to be performed
  using the PPDSS metrics: \textbf{DSS} (\ref{subsection:DSS})
  This validation algorithm must have the following sub-nodes:
    \begin{itemize}
      \item \xmlNode{pivotParameterFeature}, \xmlDesc{string, required field}, specifies the pivotParameter for a feature <HistorySet>. The feature pivot parameter is the shared index of the output variables in the data object.
      \item \xmlNode{pivotParameterTarget}, \xmlDesc{string, required field}, specifies the pivotParameter for a target <HistorySet>. The target pivot parameter is the shared index of the output variables in the data object.
      \item \xmlNode{multiOutput}, \xmlDesc{string, required field}, to extract raw values for the HistorySet. The user must use ‘raw values’ for the full set of metrics’ calculations to be dumped.
      \item \xmlNode{scale}, \xmlDesc{string, required field}, specifies the type of time scaling. The following are the options for scaling (specific definitions for each scaling type is provided in \ref{sec:dssdoc}):
        \begin{itemize}
          \item \textbf{DataSynthesis}, calculating the distortion for two data sets without applying other scaling ratios.
          \item \textbf{2\_2\_affine}, calculating the distortion for two data sets with scaling ratios for parameter of interest and agent of changes.
          \item \textbf{dilation}, calculating the distortion for two data sets with scaling ratios for parameter of interest and agent of changes.
          \item \textbf{beta\_strain}, calculating the distortion for two data sets with scaling ratio for parameter of interest.
          \item \textbf{omega\_strain}, calculating the distortion for two data sets with scaling ratios for agent of changes.
          \item \textbf{identity}, calculating the distortion for two data sets with scaling ratios of 1.
        \end{itemize}
      \item \xmlNode{scaleBeta}, \xmlDesc{float or comma separated list of floats, required field}, specifies the parameter of interest scaling ratio between the feature and target.
      To provide more than one scaling factor, separate by adding a comma in between each number. Providing more than one scaling factor presumes there are more than one parameter to be post-processed.
      If so, \xmlNode{Features}, \xmlNode{Targets}, and \xmlNode{scaleOmega} must have the same number scaling factors.
      \item \xmlNode{scaleOmega}, \xmlDesc{float or comma separated list of floats, required field}, specifies the agents of change scaling ratio between the feature and target.
      To provide more than one scaling factor, separate by adding a comma in between each number. Providing more than one scaling factor presumes there are more than one parameter to be post-processed.
      If so, \xmlNode{Features}, \xmlNode{Targets}, and \xmlNode{scaleBeta} must have the same number scaling factors.
    \end{itemize}
  %\item \xmlNode{DSS}, \xmlDesc{XML node, optional field}, specify that the validation needs to be performed via DSS.
  %This xml-node accepts the following attribute:
  %  \begin{itemize}
  %    \item \xmlAttr{ name}, \xmlDesc{required string attribute}, the  user defined name of the validation algorithm used as prefix for the output results.
  %  \end{itemize}
  %  The following subnodes must be inputted:
  %   \begin{itemize}
  %     \item \xmlNode{myNode}, \xmlDesc{comma separated string, required field}, DESCRIPTION
  %  \end{itemize}
  \item PCM:
  \input{user_manual/PostProcessors/PhysicsGuidedCoverageMapping}
\end{itemize}

\begin{table}[]
\caption{Validation Algorithms and respective available metrics and DataObjects}
\label{tab:ValidationAlgorithms}
\begin{tabular}{|c|c|c|}
\hline
\textbf{Validation Algorithm} & \textbf{DataObject}                                            & \textbf{Available Metrics}                                                   \\ \hline
Probabilistic                 & \begin{tabular}[c]{@{}c@{}}PointSet \\ HistorySet\end{tabular} & \begin{tabular}[c]{@{}c@{}}CDFAreaDifference\\ \\ PDFCommonArea\end{tabular} \\ \hline
PPDSS                         & HistorySet                                                     & DSS                                                           \\ \hline
\end{tabular}
\end{table}

\textbf{Example:}
\begin{lstlisting}[style=XML,morekeywords={subType}]
<Simulation>
  ...
  <Models>
    ...
    <PostProcessor name="pp1" subType="Probabilistic">
      <Features>outputDataMC1|ans</Features>
      <Targets>outputDataMC2|ans2</Targets>
      <Metric class="Metrics" type="CDFAreaDifference">cdf_diff</Metric>
      <Metric class="Metrics" type="PDFCommonArea">pdf_area</Metric>
    </PostProcessor>
    ...
  <Models>
  ...
<Simulation>
\end{lstlisting}
\input{PostProcessors/Validation.tex}

%%%%% PP EconomicRatio %%%%%%%
\input{PostProcessors/EconomicRatio.tex}

%%%%% HistorySetDelay %%%%%%
\input{PostProcessors/HistorySetDelay.tex}

%%%%% HStoPSOperator %%%%%%
\input{PostProcessors/HStoPSOperator.tex}

%%%%% HistorySetSampling %%%%%%
\input{PostProcessors/HistorySetSampling.tex}

%%%%% HistorySetSync %%%%%%
\input{PostProcessors/HistorySetSync.tex}

%%%%% HistorySetSnapShot %%%%%%
\input{PostProcessors/HistorySetSnapShot.tex}

%%%%% HS2PS %%%%%%
\input{PostProcessors/HS2PS.tex}

%%%%% TypicalHistoryFromHistorySet %%%%%%
\input{PostProcessors/TypicalHistoryFromHistorySet.tex}

%%%%% dataObjectLabelFilter %%%%%%
\input{PostProcessors/dataObjectLabelFilter.tex}

%%%%%%%%%%%%%%% TSACharacterizer %%%%%%%%%%%%%%%%%%%
\input{PostProcessors/TSACharacterizer.tex}


%%%%%%%%%%%%%% InterfacedPostProcessors %%%%%%%%%%%%%%%%
% To be replaced by the PostProcessor Plugin
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\input{PostProcessors/InterfacedPostProcessors.tex}
